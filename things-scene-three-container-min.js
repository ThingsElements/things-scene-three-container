!function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){THREE.Loader.Handlers.add(/\.tga$/i,new THREE.TGALoader);var e=new THREE.OBJLoader,t=new THREE.MTLLoader;e.setPath("obj/Fork_lift/"),t.setPath("obj/Fork_lift/"),t.load("ForkLift.mtl",function(t){t.preload(),e.setMaterials(t),t.side=THREE.frontSide,e.load("ForkLift.obj",function(e){c=e})})}Object.defineProperty(n,"__esModule",{value:!0});var c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n){r(this,t);var i=o(this,Object.getPrototypeOf(t).call(this));return i._model=e,i.createObject(e,n),i}return i(t,e),u(t,[{key:"createObject",value:function(e,n){if(!t.extObject)return void setTimeout(this.createObject.bind(this,e,n),50);{var r=e.left+e.width/2-n.width/2,o=e.top+e.height/2-n.height/2;.5*e.depth,e.left-n.width/2,e.top-n.height/2,e.rotation}this.type="forklift",this.add(t.extObject.clone()),this.scale.set(10,10,10),this.position.set(r,0,o),this.rotation.y=e.rotation||0}},{key:"loadExtMtl",value:function(e,t,n,r){var o=this,i=new THREE.MTLLoader;i.setPath(e),n&&i.setTexturePath(n),i.load(t,r.bind(o))}},{key:"loadExtObj",value:function(e,t,n,r){var o=this,i=new THREE.OBJLoader(this._loadManager);i.setPath(e),n&&i.setMaterials(n),i.load(t,r.bind(o),function(){},function(){console.log("error")})}}],[{key:"extObject",get:function(){return c||a(),c}}]),t}(THREE.Object3D);n["default"]=s},{}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./three-container");Object.defineProperty(n,"ThreeContainer",{enumerable:!0,get:function(){return r(o)["default"]}})},{"./three-container":6}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e=new THREE.OBJLoader,t=new THREE.MTLLoader;e.setPath("obj/Casual_Man_02/"),t.setPath("obj/Casual_Man_02/"),t.load("Casual_Man.mtl",function(t){t.preload(),e.setMaterials(t),t.side=THREE.frontSide,e.load("Casual_Man.obj",function(e){c=e})})}Object.defineProperty(n,"__esModule",{value:!0});var c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n){r(this,t);var i=o(this,Object.getPrototypeOf(t).call(this));return i._model=e,i.createObject(e,n),i}return i(t,e),u(t,[{key:"createObject",value:function(e,n){if(!t.extObject)return void setTimeout(this.createObject.bind(this,e,n),50);{var r=e.left+e.width/2-n.width/2,o=e.top+e.height/2-n.height/2;.5*e.depth,e.left-n.width/2,e.top-n.height/2,e.rotation}this.type="person",this.add(t.extObject.clone()),this.scale.set(10,10,10),this.position.set(r,0,o),this.rotation.y=e.rotation||0}},{key:"loadExtMtl",value:function(e,t,n,r){var o=this,i=new THREE.MTLLoader;i.setPath(e),n&&i.setTexturePath(n),i.load(t,r.bind(o))}},{key:"loadExtObj",value:function(e,t,n,r){var o=this,i=new THREE.OBJLoader(this._loadManager);i.setPath(e),n&&i.setMaterials(n),i.load(t,r.bind(o),function(){},function(){console.log("error")})}}],[{key:"extObject",get:function(){return c||a(),c}}]),t}(THREE.Object3D);n["default"]=s},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./stock"),s=r(u),l=function(e){function t(e,n){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this));return r._model=e,r.createObject(e,n),r}return a(t,e),c(t,[{key:"createObject",value:function(e,t){var n=.7,r=e.left+e.width/2-t.width/2,o=e.top+e.height/2-t.height/2,i=.5*e.depth*e.shelves,a=e.rotation;this.type=e.type;var c=this.createRackFrame(e.width,e.height,e.depth*e.shelves);this.add(c);for(var u=0;u<e.shelves;u++){var l=-e.depth*e.shelves*.5;if(u>0){var f=this.createRackBoard(e.width,e.height);f.position.set(0,l+e.depth*u,0),f.rotation.x=Math.PI/2,f.material.opacity=.5,f.material.transparent=!0,this.add(f)}var h=new s["default"]({width:e.width*n,height:e.height*n,depth:e.depth*n}),d=e.depth*n;h.position.set(0,l+e.depth*u+.5*d,0),h.name=e.location+"-"+(u+1),this.add(h)}this.position.set(r,i,o),this.rotation.y=a||0}},{key:"createRackFrame",value:function(e,t,n){return this.geometry=this.cube({width:e,height:n,depth:t}),new THREE.LineSegments(this.geometry,new THREE.LineDashedMaterial({color:13421772,dashSize:3,gapSize:1,linewidth:1}))}},{key:"createRackBoard",value:function(e,t){var n=new THREE.MeshBasicMaterial({color:"#dedede",side:THREE.DoubleSide}),r=new THREE.PlaneGeometry(e,t,1,1),o=new THREE.Mesh(r,n);return o}},{key:"cube",value:function(e){var t=.5*e.width,n=.5*e.height,r=.5*e.depth,o=new THREE.Geometry;return o.vertices.push(new THREE.Vector3(-t,-n,-r),new THREE.Vector3(-t,n,-r),new THREE.Vector3(-t,n,-r),new THREE.Vector3(t,n,-r),new THREE.Vector3(t,n,-r),new THREE.Vector3(t,-n,-r),new THREE.Vector3(t,-n,-r),new THREE.Vector3(-t,-n,-r),new THREE.Vector3(-t,-n,r),new THREE.Vector3(-t,n,r),new THREE.Vector3(-t,n,r),new THREE.Vector3(t,n,r),new THREE.Vector3(t,n,r),new THREE.Vector3(t,-n,r),new THREE.Vector3(t,-n,r),new THREE.Vector3(-t,-n,r),new THREE.Vector3(-t,-n,-r),new THREE.Vector3(-t,-n,r),new THREE.Vector3(-t,n,-r),new THREE.Vector3(-t,n,r),new THREE.Vector3(t,n,-r),new THREE.Vector3(t,n,r),new THREE.Vector3(t,-n,-r),new THREE.Vector3(t,-n,r)),o}},{key:"raycast",value:function(){}}]),t}(THREE.Object3D);n["default"]=l},{"./stock":5}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this));return n._model=e,n.createObject(e),n}return i(t,e),a(t,[{key:"createObject",value:function(e){this.createStock(e.width,e.height,e.depth)}},{key:"createStock",value:function(e,t,n){this.geometry=new THREE.BoxGeometry(e,n,t),this.material=new THREE.MeshLambertMaterial({color:"#ccaa76",side:THREE.FrontSide}),this.type="stock"}}]),t}(THREE.Mesh);n["default"]=c},{}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(){c.done||(THREE.Loader.Handlers.add(/\.tga$/i,new THREE.TGALoader),c.done=!0)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function T(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:T(o,t,n)}if("value"in r)return r.value;var i=r.get;return void 0===i?void 0:i.call(n)},l=e("./rack"),f=r(l),h=e("./forkLift"),d=r(h),p=e("./person"),E=r(p),y=e("./three-layout"),b=(r(y),scene),w=b.Component,v=b.Container,_=b.Layout,O=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"createFloor",value:function(e,t,n){var r=new THREE.MeshBasicMaterial({color:e,side:THREE.DoubleSide}),o=new THREE.BoxGeometry(t,n,1,10,10),i=new THREE.Mesh(o,r);i.position.y=-1,i.rotation.x=Math.PI/2,this._scene3d.add(i)}},{key:"createObjects",value:function(e,t){var n=new THREE.Object3D;e.forEach(function(e){var r;switch(e.type){case"rack":r=new f["default"](e,t);break;case"forklift":r=new d["default"](e,t);break;case"person":r=new E["default"](e,t)}n.add(r)}),this._scene3d.add(n)}},{key:"destroy_scene3d",value:function(){this._renderer=void 0,this._camera=void 0,this._keyboard=void 0,this._controls=void 0,this._projector=void 0,this._load_manager=void 0,this._scene3d=void 0}},{key:"init_scene3d",value:function(){this._scene3d&&this.destroy_scene3d(),c();var e=this.model,t=e.width,n=e.height,r=e.angle,o=void 0===r?45:r,i=e.near,a=void 0===i?.1:i,u=e.far,s=void 0===u?2e4:u,l=e.fillStyle,f=void 0===l?"#424b57":l,h=e.light,d=void 0===h?16777215:h,p=e.components,E=void 0===p?[]:p;this._scene3d=new THREE.Scene;var y=t/n;this._camera=new THREE.PerspectiveCamera(o,y,a,s),this._scene3d.add(this._camera),this._camera.position.set(800,800,800),this._camera.lookAt(this._scene3d.position),this._renderer=new THREE.WebGLRenderer({precision:"mediump",alpha:!0}),this._renderer.setClearColor(0,0),this._renderer.setSize(t,n);var b=new THREE.PointLight(d);b.position.set(10,10,0),this._camera.add(b),this.createFloor(f,t,n),this.createObjects(E,{width:t,height:n}),this._projector=new THREE.Projector,this._load_manager=new THREE.LoadingManager,this._load_manager.onProgress=function(){}}},{key:"_draw",value:function(e){var n=this.model,r=n.left,o=n.top,i=n.width,a=n.height,c=n.mode_threed;if(c){var u=this.scene3d;this._renderer.render(u,this._camera),e.drawImage(this._renderer.domElement,0,0,i,a,r,o,i,a)}else s(Object.getPrototypeOf(t.prototype),"_draw",this).call(this,e)}},{key:"onchange",value:function(){this.destroy_scene3d(),this.invalidate()}},{key:"onmousedown",value:function(){}},{key:"onmousemove",value:function(){}},{key:"ondragstart",value:function(){}},{key:"ondragmove",value:function(){}},{key:"ondragend",value:function(){}},{key:"scene3d",get:function(){return this._scene3d||this.init_scene3d(),this._scene3d}},{key:"layout",get:function(){return _.get("three")}}]),t}(v);n["default"]=O,w.register("three-container",O)},{"./forkLift":1,"./person":3,"./rack":4,"./three-layout":7}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=scene,o=r.Layout,i={reflow:function(){},capturables:function(e){return e.get("mode_threed")?[]:e.components},drawables:function(e){return e.get("mode_threed")?[]:e.components},isStuck:function(){return!1}};o.register("three",i),n["default"]=i},{}]},{},[2]);